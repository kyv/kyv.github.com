<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: hacks | ki-ai.org]]></title>
  <link href="http://ki-ai.org/blog/categories/hacks/atom.xml" rel="self"/>
  <link href="http://ki-ai.org/"/>
  <updated>2013-05-20T13:36:51-05:00</updated>
  <id>http://ki-ai.org/</id>
  <author>
    <name><![CDATA[ki-ai.org]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[ArchCom: Archlinux para Comunicantes]]></title>
    <link href="http://ki-ai.org/blog/2012/12/11/archlinux-para-comunicantes/"/>
    <updated>2012-12-11T13:42:00-06:00</updated>
    <id>http://ki-ai.org/blog/2012/12/11/archlinux-para-comunicantes</id>
    <content type="html"><![CDATA[<p><img class="left" src="http://flujos.org/media/screen-qterm-audacity.png" width="400" title="Pantallazo Audacity y Quick Terminal" ></p>

<p>Sistema ligera en base de <a href="http://archlinux.org">archlinux</a> con aplicaciones de creación multi-media disponible vía bitorrent.</p>

<p>Grábalo a DVD o USB para hacer disco de arranque o arrancarlo por red para materializar un laboratorio de medios espontáneamente. Es para procesadores de 64 bits PC y MAC (la mayoría de los nuevos). Probablemente aparecerá muy pronto una versión para i686 (PCs mas antiguas).</p>

<p><strong>Mas medios, menos basura</strong>.</p>

<p>Descargas vía <a href="http://linuxtracker.org/download.php?id=4853d82ad0291a0f3823cbc8d9f0813c18711815&amp;f=archcom-2012.12.10-x86_64.iso.torrent&amp;key=0%20Fichero%20.torrent">torrent tradicional</a> o <a href="magnet:?xt=urn:btih:4853d82ad0291a0f3823cbc8d9f0813c18711815&amp;dn=archcom-2012.12.10-x86%5F64.iso&amp;tr=http%3A%2F%2Flinuxtracker.org%3A2710%2Fbcc9d2323826745794be0d57f9e5cf1d%2Fannounce">enlace iman</a>. Detalles al final u <a href="http://linuxtracker.org/index.php?page=torrent-details&amp;id=4853d82ad0291a0f3823cbc8d9f0813c18711815">linuxtracker.org</a>.</p>

<!-- more -->


<h2>Configuración de Sistema</h2>

<p><img class="right" src="http://flujos.org/media/screen-cinelerra.png" title="Pantallazo Cinelerra" ></p>

<h3>Gráfica</h3>

<ul>
<li><strong>gimp</strong> (manipulación de imagen)</li>
<li><strong>inkscape</strong> (dibujo vectorial)</li>
<li><strong>blender</strong> (modelaje 3D / animación)</li>
</ul>


<h3>Video</h3>

<ul>
<li><strong>cinelerra</strong> (edición)</li>
<li><strong>totem</strong> (reproducción)</li>
<li><strong>devede</strong> (dvd)</li>
</ul>


<h3>Audio</h3>

<ul>
<li><strong>mixxx</strong> (consola DJ / radio por Internet)</li>
<li><strong>audacity</strong> (edición)</li>
<li><strong>ardour</strong> (DAW)</li>
<li><strong>Qtractor</strong> – (DAW)</li>
<li><strong>Hydrogen</strong> – (Drum machine / Sequencer)</li>
<li><strong>Supercolider</strong> (Síntesis / Programación)</li>
</ul>


<h3>Oficina</h3>

<ul>
<li><strong>libreoffice</strong></li>
</ul>


<h3>Red</h3>

<ul>
<li><strong>chromium</strong> (Navigador)</li>
<li><strong>transmission</strong> (bitorrent)</li>
<li><strong>claws-mail</strong> (correo)</li>
<li><strong>tor</strong> (anonimidad)</li>
</ul>


<h3>Sistema</h3>

<ul>
<li><strong>archlinux</strong></li>
<li><strong>slim</strong> session manager</li>
<li><strong>openbox</strong> wm</li>
<li><strong>adeskbar</strong> barra de aplicaciones</li>
<li><strong>tint2</strong> panel</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[audio cat]]></title>
    <link href="http://ki-ai.org/blog/2012/11/25/audio-cat/"/>
    <updated>2012-11-25T19:41:00-06:00</updated>
    <id>http://ki-ai.org/blog/2012/11/25/audio-cat</id>
    <content type="html"><![CDATA[<p><img class="left" src="http://www.flujos.org/images/ncmpc-hora.png" title="&#34;La hora en la lista&#34;" alt="&#34;La hora en la lista&#34;">
Para aquellos momentos cuando es necesario generar un audio en base de dos otros. Claro lo mas fácil seria con <strong>cat</strong>: <code>cat hora.ogg minuto.ogg &gt; horayminuto.ogg</code></p>

<p>Pero, por el cuestión de las cabeceras, algunas reproductores de audio no reproducen el resultado final. Por eso escribimos un script que concatena dos audios, utilizando las cabeceras de la primera y corrija la cabecera que refiere al duración del audio.</p>

<!-- more -->


<p>Se puede utilizarlo en conjunto con un reproductor, por <a href="http://www.flujos.org/blog/Locucion_de_hora-mpdcron/" title="Con MPD">ejemplo con mpd</a>, para <em>automatizar</em> reproducción de la hora actual.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>audiocat.pl </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
</pre></td><td class='code'><pre><code class='perl'><span class='line'><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="k">use</span> <span class="n">strict</span><span class="p">;</span>
</span><span class='line'><span class="k">use</span> <span class="n">warnings</span><span class="p">;</span>
</span><span class='line'><span class="nb">die</span> <span class="s">&quot;Not Enough arguments\n&quot;</span> <span class="k">if</span> <span class="nv">$#ARGV</span><span class="o">+</span><span class="mi">1</span> <span class="o">&amp;</span><span class="ow">lt</span><span class="p">;</span> <span class="mi">1</span><span class="p">;</span><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="k">my</span> <span class="nv">$horalib</span><span class="o">=</span><span class="s">&quot;/usr/share/spxcat/audio&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$fmt</span><span class="o">=</span><span class="s">&quot;ogg&quot;</span><span class="p">;</span> <span class="c1"># &quot;spx&quot; for speex</span>
</span><span class='line'><span class="k">my</span> <span class="p">(</span><span class="nv">$hour</span><span class="p">,</span> <span class="nv">$min</span><span class="p">)</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">get_time</span><span class="p">;</span><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="k">my</span> <span class="p">(</span><span class="nv">$outfile</span><span class="p">)</span> <span class="o">=</span> <span class="nv">@ARGV</span><span class="p">;</span> <span class="c1">#get outfile from cmd line</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$cmdstr</span> <span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$cmdopts</span> <span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$hour_file</span> <span class="o">=</span> <span class="s">&quot;$horalib/HRS$hour.$fmt&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$min_file</span> <span class="o">=</span> <span class="s">&quot;$horalib/MIN$min.$fmt&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">print</span> <span class="s">&quot;[$hour_file:$min_file]\n&quot;</span><span class="p">;</span><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="k">if</span> <span class="p">(</span><span class="nv">$fmt</span> <span class="ow">eq</span> <span class="s">&quot;ogg&quot;</span><span class="p">)</span> <span class="p">{</span><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;pre&gt;&lt;code&gt;</span><span class="nv">$cmdstr</span> <span class="o">=</span> <span class="s">&quot;ogg&quot;</span><span class="p">;</span>
</span><span class='line'><span class="sr">&lt;/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="p">}</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nv">$fmt</span> <span class="ow">eq</span> <span class="s">&quot;spx&quot;</span><span class="p">)</span> <span class="p">{</span><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;pre&gt;&lt;code&gt;</span><span class="nv">$cmdstr</span> <span class="o">=</span> <span class="s">&quot;speex&quot;</span><span class="p">;</span>
</span><span class='line'><span class="sr">&lt;/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="p">}</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nv">$min</span> <span class="ow">ne</span> <span class="s">&quot; &quot;</span><span class="p">)</span><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;pre&gt;&lt;code&gt;</span><span class="p">{</span>
</span><span class='line'>    <span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">oggcat</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="c1">#hora en punto</span>
</span><span class='line'>
</span><span class='line'><span class="k">my</span> <span class="nv">$cmd</span> <span class="o">=</span> <span class="nb">join</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">,</span> <span class="p">(</span><span class="s">&quot;/bin/cp&quot;</span><span class="p">,</span> <span class="nv">$hour_file</span><span class="p">,</span> <span class="nv">$outfile</span><span class="p">));</span>
</span><span class='line'>    <span class="nb">system</span> <span class="p">(</span><span class="s">&quot;$cmd&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">die</span> <span class="s">&quot;Cannot open pipe to $cmd ($?): $!&quot;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="sr">&lt;/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="k">sub </span><span class="nf">oggcat</span> <span class="p">{</span><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;pre&gt;&lt;code&gt;</span><span class="k">my</span> <span class="nv">$out_size</span><span class="p">;</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">ogg_dec</span><span class="p">(</span><span class="nv">$hour_file</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span><span class='line'><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">ogg_dec</span><span class="p">(</span><span class="nv">$min_file</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="k">my</span> <span class="nv">@tmps</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;/tmp/oggout0.wav&quot;</span><span class="p">,</span> <span class="s">&quot;/tmp/oggout1.wav&quot;</span><span class="p">);</span>
</span><span class='line'><span class="k">for</span> <span class="p">(</span><span class="nv">@tmps</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>
</span><span class='line'>   <span class="nv">$out_size</span> <span class="o">+=</span> <span class="o">-</span><span class="n">s</span> <span class="nv">$_</span> <span class="o">||</span> <span class="nb">die</span> <span class="s">&quot;cant get out_size: $!\n&quot;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nb">open</span> <span class="n">IN1</span><span class="p">,</span> <span class="s">&#39;&amp;lt;&#39;</span><span class="p">,</span> <span class="s">&quot;/tmp/oggout1.wav&quot;</span> <span class="o">||</span> <span class="nb">die</span> <span class="s">&quot;Can&#39;t open file tmpfile: $!\n&quot;</span><span class="p">;</span>
</span><span class='line'><span class="nb">open</span> <span class="n">IN2</span><span class="p">,</span> <span class="s">&#39;&amp;lt;&#39;</span><span class="p">,</span> <span class="s">&quot;/tmp/oggout0.wav&quot;</span> <span class="o">||</span> <span class="nb">die</span> <span class="s">&quot;Can&#39;t open file tmpfile: $!\n&quot;</span><span class="p">;</span>
</span><span class='line'><span class="nb">open</span> <span class="n">OUT</span><span class="p">,</span> <span class="s">&#39;&amp;gt;&#39;</span><span class="p">,</span> <span class="s">&quot;/tmp/oggout.wav&quot;</span> <span class="o">||</span> <span class="nb">die</span> <span class="s">&quot;Can&#39;t open file $outfile\n&quot;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># important info for headers</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$data_size</span> <span class="o">=</span> <span class="nv">$out_size</span> <span class="o">-</span> <span class="mi">88</span><span class="p">;</span> <span class="c1"># 44 bits * 2 files </span>
</span><span class='line'><span class="k">my</span> <span class="nv">$fs_8</span> <span class="o">=</span> <span class="nv">$out_size</span> <span class="o">-</span> <span class="mi">16</span><span class="p">;</span> <span class="c1"># 8 bits * 2 files</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># step through header</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$buffer</span><span class="p">;</span>
</span><span class='line'><span class="nb">read</span> <span class="n">IN1</span><span class="p">,</span> <span class="nv">$buffer</span><span class="p">,</span><span class="mi">4</span> <span class="p">;</span>
</span><span class='line'><span class="k">print</span> <span class="n">OUT</span> <span class="nv">$buffer</span><span class="p">;</span>
</span><span class='line'><span class="nb">read</span> <span class="n">IN1</span><span class="p">,</span> <span class="nv">$buffer</span><span class="p">,</span><span class="mi">4</span><span class="p">;</span>
</span><span class='line'><span class="k">print</span> <span class="n">OUT</span> <span class="nb">pack</span><span class="p">(</span><span class="s">&quot;V&quot;</span><span class="p">,</span><span class="nv">$fs_8</span><span class="p">);</span>
</span><span class='line'><span class="nb">read</span> <span class="n">IN1</span><span class="p">,</span> <span class="nv">$buffer</span><span class="p">,</span><span class="mi">32</span><span class="p">;</span>
</span><span class='line'><span class="k">print</span> <span class="n">OUT</span> <span class="nv">$buffer</span><span class="p">;</span>
</span><span class='line'><span class="k">print</span> <span class="n">OUT</span> <span class="nb">pack</span><span class="p">(</span><span class="s">&quot;V&quot;</span><span class="p">,</span><span class="nv">$data_size</span><span class="p">);</span>
</span><span class='line'><span class="c1"># write out the rest</span>
</span><span class='line'><span class="k">print</span> <span class="n">OUT</span> <span class="nv">$_</span> <span class="k">while</span> <span class="o">&amp;</span><span class="ow">lt</span><span class="p">;</span><span class="n">IN1</span><span class="o">&amp;</span><span class="ow">gt</span><span class="p">;;</span>
</span><span class='line'><span class="nb">seek</span> <span class="n">IN2</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="k">print</span> <span class="n">OUT</span> <span class="nv">$_</span> <span class="k">while</span> <span class="o">&amp;</span><span class="ow">lt</span><span class="p">;</span><span class="n">IN2</span><span class="o">&amp;</span><span class="ow">gt</span><span class="p">;;</span>
</span><span class='line'>
</span><span class='line'><span class="nb">close</span> <span class="n">IN1</span><span class="p">;</span>
</span><span class='line'><span class="nb">close</span> <span class="n">IN2</span><span class="p">;</span>
</span><span class='line'><span class="nb">close</span> <span class="n">OUT</span><span class="p">;</span>
</span><span class='line'><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">ogg_enc</span><span class="p">(</span><span class="nv">$outfile</span><span class="p">);</span>
</span><span class='line'><span class="nb">unlink</span> <span class="nb">glob</span> <span class="s">&quot;/tmp/oggout*&quot;</span><span class="p">;</span>
</span><span class='line'><span class="sr">&lt;/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="p">}</span><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="k">sub </span><span class="nf">ogg_dec</span> <span class="p">{</span><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;pre&gt;&lt;code&gt;</span><span class="k">my</span> <span class="nv">$file</span> <span class="o">=</span> <span class="nb">shift</span><span class="p">;</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$i</span> <span class="o">=</span> <span class="nb">shift</span><span class="p">;</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$out</span> <span class="o">=</span> <span class="s">&quot;/tmp/oggout&quot;</span> <span class="o">.</span> <span class="nv">$i</span> <span class="o">.</span> <span class="s">&quot;.wav&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nv">$fmt</span> <span class="ow">eq</span> <span class="s">&#39;ogg&#39;</span><span class="p">){</span><span class="nv">$out</span> <span class="o">=</span> <span class="s">&quot;-o&quot;</span><span class="o">.</span> <span class="nv">$out</span><span class="p">}</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$cmd</span> <span class="o">=</span> <span class="nv">$cmdstr</span><span class="o">.</span> <span class="s">&quot;dec&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$string</span> <span class="o">=</span> <span class="nb">join</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">,</span> <span class="p">(</span><span class="nv">$cmd</span><span class="p">,</span> <span class="nv">$file</span><span class="p">,</span> <span class="nv">$out</span><span class="p">));</span>
</span><span class='line'><span class="k">print</span> <span class="s">&quot;cmd: $string\n&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$pid</span> <span class="o">=</span> <span class="nb">open</span> <span class="n">PIPE</span><span class="p">,</span> <span class="s">&quot;-|&quot;</span><span class="p">;</span>
</span><span class='line'><span class="nb">die</span> <span class="s">&quot;Cannot fork $!&quot;</span> <span class="k">unless</span> <span class="nb">defined</span> <span class="nv">$pid</span><span class="p">;</span>
</span><span class='line'><span class="k">unless</span> <span class="p">(</span> <span class="nv">$pid</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nb">exec</span> <span class="s">&quot;$string&quot;</span> <span class="ow">or</span> <span class="nb">die</span> <span class="s">&quot;Cannot open pipe to $cmd: $!&quot;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">my</span> <span class="nv">@pipe</span><span class="p">;</span>
</span><span class='line'><span class="k">for</span> <span class="p">(</span><span class="o">&amp;</span><span class="ow">lt</span><span class="p">;</span><span class="n">PIPE</span><span class="o">&amp;</span><span class="ow">gt</span><span class="p">;){</span><span class="nb">push</span><span class="p">(</span><span class="nv">@pipe</span><span class="p">,</span><span class="nv">$_</span><span class="p">);</span> <span class="p">}</span>
</span><span class='line'><span class="k">return</span> <span class="nv">@pipe</span><span class="p">;</span>
</span><span class='line'><span class="sr">&lt;/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="p">}</span><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="k">sub </span><span class="nf">ogg_enc</span> <span class="p">{</span><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;pre&gt;&lt;code&gt;</span><span class="k">my</span> <span class="nv">$file</span> <span class="o">=</span> <span class="nb">shift</span><span class="p">;</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nv">$fmt</span> <span class="ow">eq</span> <span class="s">&#39;ogg&#39;</span><span class="p">){</span><span class="nv">$file</span> <span class="o">=</span> <span class="s">&quot;-o&quot;</span><span class="o">.</span> <span class="nv">$file</span><span class="p">}</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$cmd</span> <span class="o">=</span> <span class="nv">$cmdstr</span><span class="o">.</span> <span class="s">&quot;enc&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$string</span> <span class="o">=</span> <span class="nb">join</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">,</span> <span class="p">(</span><span class="nv">$cmd</span><span class="p">,</span> <span class="s">&quot;/tmp/oggout.wav&quot;</span><span class="p">,</span> <span class="nv">$file</span><span class="p">));</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$pid</span> <span class="o">=</span> <span class="nb">open</span> <span class="n">PIPE</span><span class="p">,</span> <span class="s">&quot;-|&quot;</span><span class="p">;</span>
</span><span class='line'><span class="nb">die</span> <span class="s">&quot;Cannot fork $!&quot;</span> <span class="k">unless</span> <span class="nb">defined</span> <span class="nv">$pid</span><span class="p">;</span>
</span><span class='line'><span class="k">unless</span> <span class="p">(</span> <span class="nv">$pid</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nb">exec</span> <span class="s">&quot;$string&quot;</span> <span class="ow">or</span> <span class="nb">die</span> <span class="s">&quot;Cannot open pipe to $cmd: $!&quot;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">my</span> <span class="nv">@pipe</span><span class="p">;</span>
</span><span class='line'><span class="k">for</span> <span class="p">(</span><span class="o">&amp;</span><span class="ow">lt</span><span class="p">;</span><span class="n">PIPE</span><span class="o">&amp;</span><span class="ow">gt</span><span class="p">;){</span><span class="nb">push</span><span class="p">(</span><span class="nv">@pipe</span><span class="p">,</span><span class="nv">$_</span><span class="p">);</span> <span class="p">}</span>
</span><span class='line'><span class="k">return</span> <span class="nv">@pipe</span><span class="p">;</span>
</span><span class='line'><span class="sr">&lt;/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="p">}</span><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="k">sub </span><span class="nf">get_time</span>
</span><span class='line'><span class="p">{</span><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;pre&gt;&lt;code&gt;</span><span class="k">my</span> <span class="nv">@timeData</span> <span class="o">=</span> <span class="nb">localtime</span><span class="p">(</span><span class="nb">time</span><span class="p">);</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$min</span> <span class="o">=</span> <span class="nv">$timeData</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$hour</span> <span class="o">=</span> <span class="nv">$timeData</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
</span><span class='line'><span class="k">if</span><span class="p">(</span><span class="nv">$hour</span> <span class="ow">eq</span> <span class="s">&quot;0&quot;</span><span class="p">)</span> <span class="p">{</span><span class="nv">$hour</span> <span class="o">=</span> <span class="s">&quot;12&quot;</span><span class="p">};</span>
</span><span class='line'><span class="k">for</span> <span class="p">(</span><span class="nv">$hour</span><span class="p">,</span> <span class="nv">$min</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>   <span class="k">if</span><span class="p">(</span><span class="nb">length</span><span class="p">(</span><span class="nv">$_</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span><span class="nv">$_</span> <span class="o">=</span> <span class="s">&quot;0&quot;</span> <span class="o">.</span> <span class="nv">$_</span><span class="p">};</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nv">$min</span> <span class="ow">eq</span> <span class="s">&quot;00&quot;</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="nv">$hour</span> <span class="o">=</span> <span class="nv">$hour</span> <span class="o">.</span> <span class="s">&quot;_0&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="nv">$min</span> <span class="o">=</span> <span class="s">&quot; &quot;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">return</span> <span class="p">(</span><span class="nv">$hour</span><span class="p">,</span> <span class="nv">$min</span><span class="p">);</span>
</span><span class='line'><span class="sr">&lt;/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Plugin Audio Ikiwiki]]></title>
    <link href="http://ki-ai.org/blog/2012/11/13/plugin-audio-ikiwiki/"/>
    <updated>2012-11-13T13:59:00-06:00</updated>
    <id>http://ki-ai.org/blog/2012/11/13/plugin-audio-ikiwiki</id>
    <content type="html"><![CDATA[<p><img class="right" src="http://flujos.org/media/360player.png" title="Foto de Ejemplo" >
Hace poco tiempo hicimos un <em>plugin</em> de audio para ikiwiki. Esto se encuentra en <a href="https://github.com/kyv/ikiwiki">nuestra bifurcación de ikiwiki</a>. El <em>plugin</em> vive en <a href="https://github.com/kyv/ikiwiki/blob/master/IkiWiki/Plugin/audio.pm">la carpeta Ikiwiki/Plugin</a>. Pero depende también de <a href="https://github.com/kyv/ikiwiki/tree/master/underlays/360-player/ikiwiki" title="360° Player">un <em>underlay</em> en que hemos copiado el 360° player</a> desde el proyecto <a href="http://www.schillmania.com/projects/soundmanager2/" title="SoundManager2">soundmanager2</a>.</p>

<p>Para ver el <em>plugin</em> en acción visita <a href="http://flujos.org">flujos.org</a>.</p>

<p>Unos ejemplos de sintaxis:
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[[</span>!audio http://radio.flujos.org:8000/rockola.oga <span class="nv">text</span><span class="o">=</span><span class="s2">&quot;La Rockola&quot;</span><span class="o">]]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
o para un fichero hospedado en la sistema de ficheros:
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[[</span>!audio /ruta/a/audio.oga <span class="nv">text</span><span class="o">=</span><span class="s2">&quot;Mi audio&quot;</span><span class="o">]]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
Aparte tenemos una plantilla para hacer un listado automático de audios <em>inline</em>. Hay un <a href="http://yaxhil.flujos.org/audio/biz_band/" title="Biz Band">ejemplo de su funcionamiento en la pagina de radio yaxhil</a> y la utilizamos conjuntamente con el <a href="http://ikiwiki.info/plugins/inline/" title="Inline Plugin">plugin <em>inline</em> de ikiwiki</a>:
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[[</span>!inline  <span class="nv">template</span><span class="o">=</span><span class="s2">&quot;inlineaudio&quot;</span> <span class="nv">pages</span><span class="o">=</span><span class="s2">&quot;audio/biz_band/&lt;em&gt; and !&lt;/em&gt;/Discussion&quot;</span> <span class="nv">show</span><span class="o">=</span><span class="s2">&quot;10&quot;</span><span class="o">]]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<!-- more -->


<p>Para su instalación copia estos ficheros de nuestro repo a sus equivalentes carpetas en su instalación de ikiwiki. O, alternativamente, a su código fuente de ikiwiki y recompila.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Archlinux en MacBook]]></title>
    <link href="http://ki-ai.org/blog/2012/11/07/archlinux-en-macbook/"/>
    <updated>2012-11-07T12:51:00-06:00</updated>
    <id>http://ki-ai.org/blog/2012/11/07/archlinux-en-macbook</id>
    <content type="html"><![CDATA[<p>Anotamos aquí lo que aprendimos al instalar <a href="https://www.archlinux.org" title="Archlinux">archlinux</a> en un <strong>macbook</strong>. Aun que en realidad no es cosa de otro mundo, la documentación es un poco ambiguo y muchas de las recomendaciones que se encuentran en el Internet resuelvan la problema de alguna manera. Pero para resolver el problema de la mejor manera posible, tuvimos que tejer la tapete de parches cortados de varias fuentes.</p>

<p><img class="right" src="http://www.rodsbooks.com/refind/refind.png" width="600" title="Menú de Arranque" ></p>

<p>Para quienes no quieren leer hasta en final, terminamos con un <em>dualboot</em> <strong>osx</strong> y <a href="https://www.archlinux.org" title="Archlinux">archlinux</a>, y, gracias a <a href="http://www.rodsbooks.com/refind/" title="rEFInd">rEFInd</a>, arrancamos a linux sin necesidad ni de emulación del <em><a href="http://es.wikipedia.org/wiki/BIOS" title="BIOS">BIOS</a></em> ni de <em><a href="http://es.wikipedia.org/wiki/Grub">GRUB</a></em>.</p>

<!-- more -->


<h2>¿Problema?</h2>

<p>En realidad el macbook no es tan distinto de cualquier PC, es un Procesador <em>intel dual core</em>. Ya no estamos en los remansos oscuros de los días cuando necesitábamos un version especial de linux y la sistema de aplicaciones que la orbitan. Lo que queda de diferencia al nivel de la sistema es el reemplazo en los mac del <em><a href="http://es.wikipedia.org/wiki/BIOS" title="BIOS">BIOS</a></em> con una cosa que si llama <em><a href="http://es.wikipedia.org/wiki/EFI">EFI</a></em>.</p>

<p>El Mac carga un nivel de virtualización del <em><a href="http://es.wikipedia.org/wiki/BIOS" title="BIOS">BIOS</a></em>. Es este emulación del <em><a href="http://es.wikipedia.org/wiki/BIOS" title="BIOS">BIOS</a></em> es lo que permite a uno instalar cosas feas como <em>window$</em> en ella. Y por conveniencia históricamente las instalaciones de <em>Linux</em> en los <em>mactel</em> (mac con procesador intel) ha aprovechado de este emulación. Por conveniencia pero no por necesidad, y mucho menos por elocuencia, por que desde hace tiempo linux puede arrancar a se mismo a través de <em><a href="http://es.wikipedia.org/wiki/EFI">EFI</a></em>. Entonces es menos elocuente utilizar el emulación del <em><a href="http://es.wikipedia.org/wiki/BIOS" title="BIOS">BIOS</a></em> uno, lo obvio, por que es inesesario; dos, por que es mas lento y tres, porque introducir otra capa de software entre el hardware y la sistema operativo inevitablemente introduzca mas <em>bugs</em> (potencial de fallas). Y el solucion de un <em><a href="http://es.wikipedia.org/wiki/MBR">MBR</a> capechano</em> <a href="http://www.rodsbooks.com/gdisk/hybrid.html" title="MBR Hibrido">introduzca una seria de otras problemas</a>.</p>

<p>Pero como en todo hay pros y contras, al arrancar linux con puro <em><a href="http://es.wikipedia.org/wiki/EFI">EFI</a></em>, según, perdimos <a href="https://help.ubuntu.com/community/MactelSupportTeam/EFI-Boot-Mactel" title="EFI Boot Ubuntu">aceleración gráfica</a> con tarjetas de video nvidia (las tarjetas gráficas intel y radeon no sufren el mismo limitate). Pero nuestra experiencia comprueba la contrario. O, mas bien, el <em>driver</em> de fuente abierta <em>nouveau</em> vimos que habiamos perdidos aceleración gráfica, video reproduce de manera cortado, pero el <em>driver</em> propietario <em>nvidia</em> funciona muy bien, al menos con la tarjeta gráfica a la mano, el <strong>Nvidia GeForce 9400M</strong>. Eso y no funciona el <em>reboot</em> o reinicio de la ordenadora, entonces es siempre necesario apagarlo y arrancarlo despues.</p>

<p>Presentamos los pasos que siguimos.</p>

<h2>Solución</h2>

<p>El primer paso es seguir el proceso descrito en el <a href="https://wiki.archlinux.org/index.php/Official_Arch_Linux_Install_Guide" title="Guía de Instalación de archlinux">wiki de arch</a>.</p>

<p>Al llegar al <a href="https://wiki.archlinux.org/index.php/Installation_Guide_(Espa%C3%B1ol)#Particiones" title="Particiones">paso de los particiones</a> es necesario <em>no</em> utilizar los herramientas tradicionales (fdisk, cfdisk, etc) los cuales utilizan el tablas de partición <em><a href="http://es.wikipedia.org/wiki/MBR">MBR</a> (Master Boot Record)</em> . En su lugar utilizamos los herramientas de <strong>GPT fdisk</strong> (gdisk, cgdisk, etc), que trabajan con la tabla de particiones <em><a href="http://es.wikipedia.org/wiki/Tabla_de_particiones_GUID">GPT</a></em> (tambien conocido como <em><a href="http://es.wikipedia.org/wiki/GUID">Globally Unique Identifier (GUID</a>)</em>. <em><a href="http://es.wikipedia.org/wiki/Tabla_de_particiones_GUID">GPT</a></em> tiene varias venajes, por ejemplo un máximo de 129 particiones en comparación de los 4 de <em><a href="http://es.wikipedia.org/wiki/MBR">MBR</a></em>, su principal limitación es que los sistemas operativas antiguas no tiene soporte para ello. Aparte del elección de <em><a href="http://es.wikipedia.org/wiki/Tabla_de_particiones_GUID">GPT</a></em>, haz los particiones según se acostumbra hacerlo. Pero toma nota de donde viva el <em><a href="http://es.wikipedia.org/wiki/EFI">EFI</a></em> (en el macbook a la mano esta en <strong>/dev/sda1</strong>). Puede ser de utilidad <a href="https://wiki.archlinux.org/index.php/Macbook#EFI_2" title="EFI y cgdisk">la pagina del wiki de arch sobre macbook</a>.</p>

<p><span class='pullquote-right' data-pullquote='para arrancar linux en el macbook no necesitamos de grub.'>
Llegando al final, en el seccion <a href="https://wiki.archlinux.org/index.php/Installation_Guide_(Espa%C3%B1ol)#Instalaci.C3.B3n_del_gestor_de_arranque">Instalación del gestor de arranque</a> veamos que hay un paquete que grub hecho especialmente para utilizar <a href="http://es.wikipedia.org/wiki/EFI">EFI</a>. Pero en realidad para arrancar linux en el macbook no necesitamos de grub. Así que se puede saltar este paso y <a href="https://bbs.archlinux.org/viewtopic.php?pid=1151686#p1151686" title="Arrancar directamente con rEFInd">en su lugar vamos a copiar rEFInd al partición de EFI</a>.
</span></p>

<p>Primer <a href="http://www.rodsbooks.com/refind/getting.html" title="Descargar rEFInd">obtenga rEFInd</a> y descomprimir en <em>zip</em>. Luego montar el <em><a href="http://es.wikipedia.org/wiki/EFI">EFI</a></em> del mac en algun lugar. Como a este punto en el instalación de archlinux tenemos el <em>raiz</em> de la sistema montado en <strong>/mnt</strong> y <strong>/boot</strong> montado en <strong>/mnt/boot</strong> vamos a montar el <em><a href="http://es.wikipedia.org/wiki/EFI">EFI</a></em> bajo <strong>/mnt/boot/efi</strong></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>mkdir /mnt/boot/efi&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;h1>mount LABEL=EFI /mnt/boot/efi&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Ahora debe de existir la carpeta <em><a href="http://es.wikipedia.org/wiki/EFI">EFI</a></em> bajo <strong>/mnt/boot/efi</strong> y profundizando un nivel mas veremos la carpeta <em>APPLE</em> (<strong>/mnt/boot/efi/EFI/APPLE</strong>). Para que el macbook detecta de forma automática nuestra linux, vamos a crear la carpeta <strong>EFI/BOOT</strong> y dentro de ello vamos a copiar rEFInd.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>mkdir /mnt/boot/efi/EFI/BOOT&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;h1>cd /ruta/a/refind-bin-${numero_de_version}&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;h1>cp -r refind/* /mnt/boot/efi/EFI/BOOT/&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;h1>cd /mnt/boot/efi/EFI/BOOT/&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;h1>mv refind.conf-sample refind.conf&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;h1>mv refind_x64.efi BOOTX64.efi&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Abrimos refind.conf y quitamos el gato (<em>#</em>) del opción "<em>scan_all_linux_kernels</em>". Y al final podemos limpiar la carpeta <em>BOOT</em>. Si nuestra mac es 64 bit podemos borrar los ficheros con <em>ia32</em> en el nombre.</p>

<p>Finalmente creamos el fichero <strong>/boot/refind_linux.conf</strong> con los variables de arranque, por ejemplo:
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>echo '"Default" "root=UUID=54b939d6-b59d-4dcb-8311-4b612d2c26dd ro"' > /boot/refind_linux.conf&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div>
Ahora se puede volver al instalación oficial de archlinux, empezando con la <a href="https://wiki.archlinux.org/index.php/Installation_Guide_(Espa%C3%B1ol)#Configuraci.C3.B3n_del_sistema" title="Volver a Instalación de Arch">configuración del sitema</a> y seguir lo hasta el final.</p>

<p>Al momento de reiniciar la sistema, se arrancaría en el os de mac. Y, tomando los ejemplos de los indicaciones de instalación de <a href="http://www.rodsbooks.com/refind/" title="rEFInd">rEFInd</a>, primer montamos el <em>EFI</em> y después lo <em>bendecimos</em>.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo mkdir /efi
</span><span class='line'>$ sudo mount -t msdos /dev/disk0s1 /efi
</span><span class='line'>$ sudo bless --mount /efi --setBoot --file /efi/EFI/BOOT/refind_x64.efi</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Ahora reiniciamos de nuevo, y debemos ver un pantalla donde elegimos entre la manzanita o el pinguinito. A veces hay que reiniciar un par de veces para que agarra.</p>

<p>Despues de la <a href="https://wiki.archlinux.org/index.php/Installation_Guide_(Espa%C3%B1ol)" title="Instalación de Arch">Guía de instalación</a>, sigue los pasos de la <a href="https://wiki.archlinux.org/index.php/Beginners%27_Guide/Extra_(Espa%C3%B1ol)" title="Guía de Pricipiantes">Guía de principiantes</a>. Pero como esos son como toques finales, no debe de importarse si se haga antes o después del <em>bendición</em> del rEFInd. Al momento de llegar al la configuración de <strong>X</strong>, utiliza los <em>drivers</em> propietarios de <em>nvidia</em> para no sufrir un lento rendimiento gráfica.</p>

<h5>Algunas referencias Mas</h5>

<p><a href="http://plopez.nfshost.com/2011_macbook_air_pure_efi_dual-boot">macbook pro pure efi +grub</a> | <a href="https://wiki.archlinux.org/index.php/Unified_Extensible_Firmware_Interface#Create_an_UEFI_System_Partition_in_Linux">pagina de wiki de arch sobre UEFI</a> | <a href="https://wiki.archlinux.org/index.php/UEFI_Bootloaders#Using_rEFInd">install refind con pacman</a> | <a href="http://www.rodsbooks.com/efi-bootloaders/refind.html">sobre rEFInd</a> | <a href="https://discussions.apple.com/thread/2746152?start=0&amp;tstart=0">de la pagina de apple</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Copiar .m3u a dispositivo]]></title>
    <link href="http://ki-ai.org/blog/2012/11/01/copiar-lista-a-dispositivo/"/>
    <updated>2012-11-01T12:35:00-06:00</updated>
    <id>http://ki-ai.org/blog/2012/11/01/copiar-lista-a-dispositivo</id>
    <content type="html"><![CDATA[<p>Si tienes una lista de reproducción de formato sencillo .m3u, este <em>script</em> copia los contenidos de la lista a una carpeta. Mi ha sido útil, por ejemplo, para copiar mis rolas preferidas a mi celular antes de salir a la calle. Si en la lista tienes varias formatos, el <em>script</em> los convertirá a <strong>mp3</strong>. Obviamente prefería tener un teléfono que reproduciera <strong>ogg-vorbis</strong>, pero la triste verdad es que no tengo. <strong>Ojo</strong>: <em>para que funciona la conversión de formatos es necesario que mplayer y lame estan instalados</em>.</p>

<h3>Si ejecute así</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>como  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>cpm3u.pl /ruta/a/lista.m3u /ruta/a/destinto/
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h3>Codigo</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>cpm3u.pl  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
</pre></td><td class='code'><pre><code class='perl'><span class='line'><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;h1&gt;</span><span class="o">!</span><span class="sr">/usr/</span><span class="n">bin</span><span class="sr">/perl&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;h1&gt;</span><span class="n">Copyright</span> <span class="mi">2012</span><span class="p">,</span> <span class="n">kev</span><span class="nv">@flujos</span><span class="o">.</span><span class="n">org</span><span class="sr">&lt;/h1&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;h1&gt;</span><span class="n">Licensed</span> <span class="n">under</span> <span class="n">the</span> <span class="n">GPL</span> <span class="n">Version</span> <span class="mi">2</span> <span class="n">license</span><span class="o">.</span><span class="sr">&lt;/h1&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="k">use</span> <span class="nn">File::</span><span class="n">Copy</span><span class="p">;</span>
</span><span class='line'><span class="k">use</span> <span class="nn">File::</span><span class="n">Basename</span><span class="p">;</span><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="k">my</span> <span class="nv">$PLS</span><span class="o">=</span><span class="s">&quot;$ARGV[0]&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$DEST</span><span class="o">=</span><span class="s">&quot;$ARGV[1]&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$tmp</span><span class="o">=</span><span class="s">&#39;/tmp/out.wav&#39;</span><span class="p">;</span>
</span><span class='line'><span class="k">my</span> <span class="nv">@exts</span><span class="o">=</span><span class="sx">qw(.ogg .oga .wma .m4a)</span><span class="p">;</span>
</span><span class='line'><span class="nb">open</span><span class="p">(</span><span class="nv">$p</span><span class="p">,</span> <span class="nv">$PLS</span><span class="p">);</span>
</span><span class='line'><span class="k">for</span> <span class="p">(</span><span class="o">&amp;</span><span class="ow">lt</span><span class="p">;</span><span class="nv">$p</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;pre&gt;&lt;code&gt;</span><span class="nb">chomp</span><span class="p">;</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$orig</span> <span class="o">=</span> <span class="nv">$ENV</span><span class="p">{</span><span class="n">HOME</span><span class="p">}</span><span class="o">.</span> <span class="s">&quot;/&quot;</span><span class="o">.</span> <span class="nv">$_</span><span class="p">;</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nv">$orig</span> <span class="o">=~</span><span class="sr"> /.mp3$/i</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">copy</span><span class="p">(</span><span class="s">&quot;$orig&quot;</span><span class="p">,</span> <span class="s">&quot;$DEST&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">die</span> <span class="s">&quot;Copy Failed $!&quot;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">else</span> <span class="p">{</span>
</span><span class='line'>        <span class="nv">$out_file</span><span class="o">=</span><span class="nv">$DEST</span><span class="o">.</span> <span class="n">basename</span><span class="p">(</span><span class="nv">$_</span><span class="p">,</span> <span class="nv">@exts</span><span class="p">)</span> <span class="o">.</span> <span class="s">&#39;.mp3&#39;</span><span class="p">;</span>
</span><span class='line'>        <span class="nb">system</span><span class="p">(</span><span class="s">&#39;/usr/bin/mplayer&#39;</span><span class="p">,</span> <span class="s">&#39;-ao&#39;</span><span class="p">,</span> <span class="s">&quot;pcm:file=$tmp&quot;</span><span class="p">,</span> <span class="s">&quot;$orig&quot;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>   <span class="c1"># Use lame to make an mp3</span>
</span><span class='line'>   <span class="nb">system</span><span class="p">(</span><span class="s">&#39;/usr/bin/lame&#39;</span><span class="p">,</span> <span class="s">&quot;$tmp&quot;</span><span class="p">,</span> <span class="s">&quot;$out_file&quot;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>   <span class="k">if</span> <span class="p">(</span><span class="nb">unlink</span><span class="p">(</span><span class="nv">$tmp</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">print</span> <span class="s">&quot;$tmp deleted successfully.\n&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">print</span> <span class="s">&quot;$tmp was not deleted.\n&quot;</span><span class="p">;</span>
</span><span class='line'>   <span class="p">}</span>
</span><span class='line'><span class="sr">&lt;/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span>   <span class="p">}</span><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>
]]></content>
  </entry>
  
</feed>
