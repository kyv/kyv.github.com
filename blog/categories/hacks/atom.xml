<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: hacks | kiai]]></title>
  <link href="http://kyv.github.com/blog/categories/hacks/atom.xml" rel="self"/>
  <link href="http://kyv.github.com/"/>
  <updated>2012-11-13T17:02:42-06:00</updated>
  <id>http://kyv.github.com/</id>
  <author>
    <name><![CDATA[Kevin Brown]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Plugin Audio Ikiwiki]]></title>
    <link href="http://kyv.github.com/blog/2012/11/13/plugin-audio-ikiwiki/"/>
    <updated>2012-11-13T13:59:00-06:00</updated>
    <id>http://kyv.github.com/blog/2012/11/13/plugin-audio-ikiwiki</id>
    <content type="html"><![CDATA[<p><img class="right" src="http://flujos.org/media/360player.png" title="Foto de Ejemplo" >
Hace poco tiempo hicimos un <em>plugin</em> de audio para ikiwiki. Esto si puede encontrar en <a href="https://github.com/kyv/ikiwiki">nuestra bifurcación de ikiwiki</a>. El <em>plugin</em> vive en <a href="https://github.com/kyv/ikiwiki/blob/master/IkiWiki/Plugin/audio.pm">la carpeta Ikiwiki/Plugin</a>. Pero depende también de <a href="https://github.com/kyv/ikiwiki/tree/master/underlays/360-player/ikiwiki" title="360° Player">un <em>underlay</em> en que hemos copiado el 360° player</a> desde el proyecto <a href="http://www.schillmania.com/projects/soundmanager2/" title="SoundManager2">soundmanager2</a>.</p>

<p>Si puede ver el <em>plugin</em> en acción en la portada de <a href="http://flujos.org">flujos.org</a>.</p>

<p>Unos ejemplos de sintaxis:
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[[</span>!audio http://radio.flujos.org:8000/rockola.oga <span class="nv">text</span><span class="o">=</span><span class="s2">&quot;La Rockola&quot;</span><span class="o">]]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
o para un fichero hospedado en la sistema de ficheros:
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[[</span>!audio /ruta/a/audio.oga <span class="nv">text</span><span class="o">=</span><span class="s2">&quot;Mi audio&quot;</span><span class="o">]]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
Aparte tenemos una plantilla para hacer un listado automático de audios <em>inline</em>. Hay un <a href="http://yaxhil.flujos.org/audio/biz_band/" title="Biz Band">ejemplo de su funcionamiento en la pagina de radio yaxhil</a> y la utilizamos conjuntamente con el <a href="http://ikiwiki.info/plugins/inline/" title="Inline Plugin">plugin <em>inline</em> de ikiwiki</a>:
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[[</span>!inline  <span class="nv">template</span><span class="o">=</span><span class="s2">&quot;inlineaudio&quot;</span> <span class="nv">pages</span><span class="o">=</span><span class="s2">&quot;audio/biz_band/&lt;em&gt; and !&lt;/em&gt;/Discussion&quot;</span> <span class="nv">show</span><span class="o">=</span><span class="s2">&quot;10&quot;</span><span class="o">]]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<!-- more -->


<p>Para su instalación copia estos ficheros de nuestro repo a sus equivalentes carpetas en su instalación de ikiwiki. O, alternativamente, a su código fuente de ikiwiki y recompila.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Archlinux en MacBook]]></title>
    <link href="http://kyv.github.com/blog/2012/11/07/archlinux-en-macbook/"/>
    <updated>2012-11-07T12:51:00-06:00</updated>
    <id>http://kyv.github.com/blog/2012/11/07/archlinux-en-macbook</id>
    <content type="html"><![CDATA[<p>Anotamos aquí lo que aprendimos al instalar <a href="https://www.archlinux.org" title="Archlinux">archlinux</a> en un <strong>macbook</strong>. Aun que en realidad no es cosa de otro mundo, la documentación es un poco ambiguo y muchas de las recomendaciones que si encuentran en el Internet resuelvan la problema de alguna manera. Pero para resolver el problema de la mejor manera posible, tuvimos que tejer la tapete de parches cortados de varias fuentes.</p>

<p><img class="right" src="http://www.rodsbooks.com/refind/refind.png" width="600" title="Menú de Arranque" ></p>

<p>Para quienes no quieren leer hasta en final, terminamos con un <em>dualboot</em> <strong>osx</strong> y <a href="https://www.archlinux.org" title="Archlinux">archlinux</a>, y, gracias a <a href="http://www.rodsbooks.com/refind/" title="rEFInd">rEFInd</a>, arrancamos a linux sin necesidad ni de emulación del <em><a href="http://es.wikipedia.org/wiki/BIOS" title="BIOS">BIOS</a></em> ni de <em><a href="http://es.wikipedia.org/wiki/Grub">GRUB</a></em>.</p>

<!-- more -->


<h2>¿Problema?</h2>

<p>En realidad el macbook no es tan distinto de cualquier PC, es un Procesador <em>intel dual core</em>. Ya no estamos en los remansos oscuros de los días cuando necesitábamos un version especial de linux y la sistema de aplicaciones que la orbitan. Lo que queda de diferencia al nivel de la sistema es el reemplazo en los mac del <em><a href="http://es.wikipedia.org/wiki/BIOS" title="BIOS">BIOS</a></em> con una cosa que si llama <em><a href="http://es.wikipedia.org/wiki/EFI">EFI</a></em>.</p>

<p>El Mac carga un nivel de virtualización del <em><a href="http://es.wikipedia.org/wiki/BIOS" title="BIOS">BIOS</a></em>. Es este emulación del <em><a href="http://es.wikipedia.org/wiki/BIOS" title="BIOS">BIOS</a></em> es lo que permite a uno instalar cosas feas como <em>window$</em> en ella. Y por conveniencia históricamente las instalaciones de <em>Linux</em> en los <em>mactel</em> (mac con procesador intel) ha aprovechado de este emulación. Por conveniencia pero no por necesidad, y mucho menos por elocuencia, por que desde hace tiempo linux puede arrancar a si mismo a través de <em><a href="http://es.wikipedia.org/wiki/EFI">EFI</a></em>. Entonces es menos elocuente utilizar el emulación del <em><a href="http://es.wikipedia.org/wiki/BIOS" title="BIOS">BIOS</a></em> uno, lo obvio, por que es inesesario; dos, por que es mas lento y tres, porque introducir otra capa de software entre el hardware y la sistema operativo inevitablemente introduzca mas <em>bugs</em> (potencial de fallas). Y el solucion de un <em><a href="http://es.wikipedia.org/wiki/MBR">MBR</a> capechano</em> <a href="http://www.rodsbooks.com/gdisk/hybrid.html" title="MBR Hibrido">introduzca una seria de otras problemas</a>.</p>

<p>Pero como en todo hay pros y contras, al arrancar linux con puro <em><a href="http://es.wikipedia.org/wiki/EFI">EFI</a></em>, según, perdimos <a href="https://help.ubuntu.com/community/MactelSupportTeam/EFI-Boot-Mactel" title="EFI Boot Ubuntu">aceleración gráfica</a> con tarjetas de video nvidia (las tarjetas gráficas intel y radeon no sufren el mismo limitate). Pero nuestra experiencia comprueba la contrario. O, mas bien, el <em>driver</em> de fuente abierta <em>nouveau</em> vimos que habiamos perdidos aceleración gráfica, video reproduce de manera cortado, pero el <em>driver</em> propietario <em>nvidia</em> funciona muy bien, al menos con la tarjeta gráfica a la mano, el <strong>Nvidia GeForce 9400M</strong>. Eso y no funciona el <em>reboot</em> o reinicio de la ordenadora, entonces es siempre necesario apagarlo y arrancarlo despues.</p>

<p>Presentamos los pasos que siguimos.</p>

<h2>Solución</h2>

<p>El primer paso es seguir el proceso descrito en el <a href="https://wiki.archlinux.org/index.php/Official_Arch_Linux_Install_Guide" title="Guía de Instalación de archlinux">wiki de arch</a>.</p>

<p>Al llegar al <a href="https://wiki.archlinux.org/index.php/Installation_Guide_(Espa%C3%B1ol)#Particiones" title="Particiones">paso de los particiones</a> es necesario <em>no</em> utilizar los herramientas tradicionales (fdisk, cfdisk, etc) los cuales utilizan el tablas de partición <em><a href="http://es.wikipedia.org/wiki/MBR">MBR</a> (Master Boot Record)</em> . En su lugar utilizamos los herramientas de <strong>GPT fdisk</strong> (gdisk, cgdisk, etc), que trabajan con la tabla de particiones <em><a href="http://es.wikipedia.org/wiki/Tabla_de_particiones_GUID">GPT</a></em> (tambien conocido como <em><a href="http://es.wikipedia.org/wiki/GUID">Globally Unique Identifier (GUID</a>)</em>. <em><a href="http://es.wikipedia.org/wiki/Tabla_de_particiones_GUID">GPT</a></em> tiene varias venajes, por ejemplo un máximo de 129 particiones en comparación de los 4 de <em><a href="http://es.wikipedia.org/wiki/MBR">MBR</a></em>, su principal limitación es que los sistemas operativas antiguas no tiene soporte para ello. Aparte del elección de <em><a href="http://es.wikipedia.org/wiki/Tabla_de_particiones_GUID">GPT</a></em>, haz los particiones según si acostumbra hacerlo. Pero toma nota de donde viva el <em><a href="http://es.wikipedia.org/wiki/EFI">EFI</a></em> (en el macbook a la mano esta en <strong>/dev/sda1</strong>). Puede ser de utilidad <a href="https://wiki.archlinux.org/index.php/Macbook#EFI_2" title="EFI y cgdisk">la pagina del wiki de arch sobre macbook</a>.</p>

<p><span class='pullquote-right' data-pullquote='para arrancar linux en el macbook no necesitamos de grub.'>
Llegando al final, en el seccion <a href="https://wiki.archlinux.org/index.php/Installation_Guide_(Espa%C3%B1ol)#Instalaci.C3.B3n_del_gestor_de_arranque">Instalación del gestor de arranque</a> veamos que hay un paquete que grub hecho especialmente para utilizar <a href="http://es.wikipedia.org/wiki/EFI">EFI</a>. Pero en realidad para arrancar linux en el macbook no necesitamos de grub. Así que si puede saltar este paso y <a href="https://bbs.archlinux.org/viewtopic.php?pid=1151686#p1151686" title="Arrancar directamente con rEFInd">en su lugar vamos a copiar rEFInd al partición de EFI</a>.
</span></p>

<p>Primer <a href="http://www.rodsbooks.com/refind/getting.html" title="Descargar rEFInd">obtenga rEFInd</a> y descomprimir en <em>zip</em>. Luego montar el <em><a href="http://es.wikipedia.org/wiki/EFI">EFI</a></em> del mac en algun lugar. Como a este punto en el instalación de archlinux tenemos el <em>raiz</em> de la sistema montado en <strong>/mnt</strong> y <strong>/boot</strong> montado en <strong>/mnt/boot</strong> vamos a montar el <em><a href="http://es.wikipedia.org/wiki/EFI">EFI</a></em> bajo <strong>/mnt/boot/efi</strong></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>mkdir /mnt/boot/efi&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;h1>mount LABEL=EFI /mnt/boot/efi&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Ahora debe de existir la carpeta <em><a href="http://es.wikipedia.org/wiki/EFI">EFI</a></em> bajo <strong>/mnt/boot/efi</strong> y profundizando un nivel mas veremos la carpeta <em>APPLE</em> (<strong>/mnt/boot/efi/EFI/APPLE</strong>). Para que el macbook detecta de forma automática nuestra linux, vamos a crear la carpeta <strong>EFI/BOOT</strong> y dentro de ello vamos a copiar rEFInd.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>mkdir /mnt/boot/efi/EFI/BOOT&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;h1>cd /ruta/a/refind-bin-${numero_de_version}&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;h1>cp -r refind/* /mnt/boot/efi/EFI/BOOT/&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;h1>cd /mnt/boot/efi/EFI/BOOT/&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;h1>mv refind.conf-sample refind.conf&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;h1>mv refind_x64.efi BOOTX64.efi&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Abrimos refind.conf y quitamos el gato (<em>#</em>) del opción "<em>scan_all_linux_kernels</em>". Y al final podemos limpiar la carpeta <em>BOOT</em>. Si nuestra mac es 64 bit podemos borrar los ficheros con <em>ia32</em> en el nombre.</p>

<p>Finalmente creamos el fichero <strong>/boot/refind_linux.conf</strong> con los variables de arranque, por ejemplo:
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>echo '"Default" "root=UUID=54b939d6-b59d-4dcb-8311-4b612d2c26dd ro"' > /boot/refind_linux.conf&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div>
Ahora si puede volver al instalación oficial de archlinux, empezando con la <a href="https://wiki.archlinux.org/index.php/Installation_Guide_(Espa%C3%B1ol)#Configuraci.C3.B3n_del_sistema" title="Volver a Instalación de Arch">configuración del sitema</a> y seguir lo hasta el final.</p>

<p>Al momento de reiniciar la sistema, si arrancaría en el os de mac. Y, tomando los ejemplos de los indicaciones de instalación de <a href="http://www.rodsbooks.com/refind/" title="rEFInd">rEFInd</a>, primer montamos el <em>EFI</em> y después lo <em>bendecimos</em>.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo mkdir /efi
</span><span class='line'>$ sudo mount -t msdos /dev/disk0s1 /efi
</span><span class='line'>$ sudo bless --mount /efi --setBoot --file /efi/EFI/BOOT/refind_x64.efi</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Ahora reiniciamos de nuevo, y debemos ver un pantalla donde elegimos entre la manzanita o el pinguinito. A veces hay que reiniciar un par de veces para que agarra.</p>

<p>Despues de la <a href="https://wiki.archlinux.org/index.php/Installation_Guide_(Espa%C3%B1ol)" title="Instalación de Arch">Guía de instalación</a>, sigue los pasos de la <a href="https://wiki.archlinux.org/index.php/Beginners%27_Guide/Extra_(Espa%C3%B1ol)" title="Guía de Pricipiantes">Guía de principiantes</a>. Pero como esos son como toques finales, no debe de importarse si si haga antes o después del <em>bendición</em> del rEFInd. Al momento de llegar al la configuración de <strong>X</strong>, utiliza los <em>drivers</em> propietarios de <em>nvidia</em> para no sufrir un lento rendimiento gráfica.</p>

<h5>Algunas referencias Mas</h5>

<p><a href="http://plopez.nfshost.com/2011_macbook_air_pure_efi_dual-boot">macbook pro pure efi +grub</a> | <a href="https://wiki.archlinux.org/index.php/Unified_Extensible_Firmware_Interface#Create_an_UEFI_System_Partition_in_Linux">pagina de wiki de arch sobre UEFI</a> | <a href="https://wiki.archlinux.org/index.php/UEFI_Bootloaders#Using_rEFInd">install refind con pacman</a> | <a href="http://www.rodsbooks.com/efi-bootloaders/refind.html">sobre rEFInd</a> | <a href="https://discussions.apple.com/thread/2746152?start=0&amp;tstart=0">de la pagina de apple</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Copiar .m3u a dispositivo]]></title>
    <link href="http://kyv.github.com/blog/2012/11/01/copiar-lista-a-dispositivo/"/>
    <updated>2012-11-01T12:35:00-06:00</updated>
    <id>http://kyv.github.com/blog/2012/11/01/copiar-lista-a-dispositivo</id>
    <content type="html"><![CDATA[<p>Si tienes una lista de reproducción de formato sencillo .m3u, este <em>script</em> copia los contenidos de la lista a una carpeta. Mi ha sido útil, por ejemplo, para copiar mis rolas preferidas a mi celular antes de salir a la calle. Si en la lista tienes varias formatos, el <em>script</em> los convertirá a <strong>mp3</strong>. Obviamente prefería tener un teléfono que reproduciera <strong>ogg-vorbis</strong>, pero la triste verdad es que no tengo. <strong>Ojo</strong>: <em>para que funciona la conversión de formatos es necesario que mplayer y lame estan instalados</em>.</p>

<h3>Si ejecute así</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>como  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>cpm3u.pl /ruta/a/lista.m3u /ruta/a/destinto/
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h3>Codigo</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>cpm3u.pl  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
</pre></td><td class='code'><pre><code class='perl'><span class='line'><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;h1&gt;</span><span class="o">!</span><span class="sr">/usr/</span><span class="n">bin</span><span class="sr">/perl&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;h1&gt;</span><span class="n">Copyright</span> <span class="mi">2012</span><span class="p">,</span> <span class="n">kev</span><span class="nv">@flujos</span><span class="o">.</span><span class="n">org</span><span class="sr">&lt;/h1&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;h1&gt;</span><span class="n">Licensed</span> <span class="n">under</span> <span class="n">the</span> <span class="n">GPL</span> <span class="n">Version</span> <span class="mi">2</span> <span class="n">license</span><span class="o">.</span><span class="sr">&lt;/h1&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="k">use</span> <span class="nn">File::</span><span class="n">Copy</span><span class="p">;</span>
</span><span class='line'><span class="k">use</span> <span class="nn">File::</span><span class="n">Basename</span><span class="p">;</span><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="k">my</span> <span class="nv">$PLS</span><span class="o">=</span><span class="s">&quot;$ARGV[0]&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$DEST</span><span class="o">=</span><span class="s">&quot;$ARGV[1]&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$tmp</span><span class="o">=</span><span class="s">&#39;/tmp/out.wav&#39;</span><span class="p">;</span>
</span><span class='line'><span class="k">my</span> <span class="nv">@exts</span><span class="o">=</span><span class="sx">qw(.ogg .oga .wma .m4a)</span><span class="p">;</span>
</span><span class='line'><span class="nb">open</span><span class="p">(</span><span class="nv">$p</span><span class="p">,</span> <span class="nv">$PLS</span><span class="p">);</span>
</span><span class='line'><span class="k">for</span> <span class="p">(</span><span class="o">&amp;</span><span class="ow">lt</span><span class="p">;</span><span class="nv">$p</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;pre&gt;&lt;code&gt;</span><span class="nb">chomp</span><span class="p">;</span>
</span><span class='line'><span class="k">my</span> <span class="nv">$orig</span> <span class="o">=</span> <span class="nv">$ENV</span><span class="p">{</span><span class="n">HOME</span><span class="p">}</span><span class="o">.</span> <span class="s">&quot;/&quot;</span><span class="o">.</span> <span class="nv">$_</span><span class="p">;</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nv">$orig</span> <span class="o">=~</span><span class="sr"> /.mp3$/i</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">copy</span><span class="p">(</span><span class="s">&quot;$orig&quot;</span><span class="p">,</span> <span class="s">&quot;$DEST&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">die</span> <span class="s">&quot;Copy Failed $!&quot;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">else</span> <span class="p">{</span>
</span><span class='line'>        <span class="nv">$out_file</span><span class="o">=</span><span class="nv">$DEST</span><span class="o">.</span> <span class="n">basename</span><span class="p">(</span><span class="nv">$_</span><span class="p">,</span> <span class="nv">@exts</span><span class="p">)</span> <span class="o">.</span> <span class="s">&#39;.mp3&#39;</span><span class="p">;</span>
</span><span class='line'>        <span class="nb">system</span><span class="p">(</span><span class="s">&#39;/usr/bin/mplayer&#39;</span><span class="p">,</span> <span class="s">&#39;-ao&#39;</span><span class="p">,</span> <span class="s">&quot;pcm:file=$tmp&quot;</span><span class="p">,</span> <span class="s">&quot;$orig&quot;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>   <span class="c1"># Use lame to make an mp3</span>
</span><span class='line'>   <span class="nb">system</span><span class="p">(</span><span class="s">&#39;/usr/bin/lame&#39;</span><span class="p">,</span> <span class="s">&quot;$tmp&quot;</span><span class="p">,</span> <span class="s">&quot;$out_file&quot;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>   <span class="k">if</span> <span class="p">(</span><span class="nb">unlink</span><span class="p">(</span><span class="nv">$tmp</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">print</span> <span class="s">&quot;$tmp deleted successfully.\n&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">print</span> <span class="s">&quot;$tmp was not deleted.\n&quot;</span><span class="p">;</span>
</span><span class='line'>   <span class="p">}</span>
</span><span class='line'><span class="sr">&lt;/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span>   <span class="p">}</span><span class="sr">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ambient_Atonalidad]]></title>
    <link href="http://kyv.github.com/blog/2012/10/28/ambient-atonalidad/"/>
    <updated>2012-10-28T11:58:00-06:00</updated>
    <id>http://kyv.github.com/blog/2012/10/28/ambient-atonalidad</id>
    <content type="html"><![CDATA[<p>Presentamos el codigo de nuestra participacion en el concerto de musica electronica que dio conclusion al taller <a href="http://casanagustin.org.mx/actividades-en-curso/888-laboratorio-de-arte-y-nuevos-medios.html" title="Laboratorio de arte y nuevos medios">Música por computadora con código, primer parte del serie Laboratorio de arte y nuevos medios, impartido en CASA de los artes San Augustin Etla</a>.</p>

<p>El codigo es el linguaje <a href="http://supercollider.sourceforge.net/" title="SuperCollider">SuperCollider</a>, que es lo que en concreto aprendimos en el taller.</p>

<p>Primero sintetizamos un ruido de fondo y la pasamos por un Resonant Low Pass Filter (RLPF).</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>ruido  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='smalltalk'><span class='line'><span class="err">~</span><span class="nv">lfn</span><span class="nf">=</span>{<span class="nc">RLPF</span><span class="p">.</span><span class="nv">ar</span>(<span class="nc">LFNoise2</span><span class="p">.</span><span class="nv">ar</span>(<span class="m">10000</span>)<span class="nf">,</span><span class="m">440</span><span class="nf">,</span><span class="m">0.1</span>)<span class="nf">*</span><span class="m">0.03</span>}
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>En seguida sintetizamos un especia de ritmo atreves de un seria de ruidos de igual manera filtros por un RLPF.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>tracktor  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='smalltalk'><span class='line'><span class="err">~</span><span class="nv">tractor</span><span class="nf">=</span>{<span class="nc">RLPF</span><span class="p">.</span><span class="nv">ar</span>(<span class="nc">BrownNoise</span><span class="p">.</span><span class="nv">ar</span><span class="nf">&lt;</span><span class="nv">em</span><span class="nf">&gt;</span><span class="nc">Impulse</span><span class="p">.</span><span class="nv">kr</span>(<span class="m">10</span>)<span class="nf">&lt;/</span><span class="nv">em</span><span class="nf">&gt;</span><span class="m">1</span><span class="nf">*</span><span class="nc">WhiteNoise</span><span class="p">.</span><span class="nv">ar</span>(<span class="m">10</span>))}<span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Luego sintetizamos un bombo.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>bombo  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='smalltalk'><span class='line'><span class="err">~</span><span class="nv">kick</span><span class="nf">=</span>{<span class="nc">Ringz</span><span class="p">.</span><span class="nv">ar</span>( <span class="nc">Impulse</span><span class="p">.</span><span class="nv">ar</span>(<span class="m">2</span>)<span class="nf">,</span> <span class="m">60</span><span class="nf">,</span> <span class="m">0.5</span> )<span class="nf">*</span><span class="m">0.3</span> }<span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Un acorde hecho de tres tonos elejido de forma aleatorio.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>acorde  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='smalltalk'><span class='line'><span class="err">~</span><span class="nv">tono</span><span class="nf">=</span>{<span class="nc">SinOsc</span><span class="p">.</span><span class="nv">ar</span>([<span class="m">0</span><span class="nf">,</span><span class="m">2</span><span class="nf">,</span><span class="m">4</span><span class="nf">,</span><span class="m">5</span><span class="nf">,</span><span class="m">6</span><span class="nf">,</span><span class="m">9</span><span class="nf">,</span><span class="m">11</span><span class="nf">,</span><span class="m">12</span>]<span class="p">.</span><span class="nv">choose</span><span class="p">.</span><span class="nv">midiratio</span><span class="nf">&lt;</span><span class="nv">em</span><span class="nf">&gt;</span><span class="m">400</span>)<span class="nf">&lt;/</span><span class="nv">em</span><span class="nf">&gt;</span><span class="m">1</span><span class="nf">/</span><span class="m">5</span> }<span class="p">;</span>
</span><span class='line'><span class="nf">~</span><span class="nv">tono0</span><span class="nf">=</span>{<span class="nc">SinOsc</span><span class="p">.</span><span class="nv">ar</span>([<span class="m">0</span><span class="nf">,</span><span class="m">2</span><span class="nf">,</span><span class="m">4</span><span class="nf">,</span><span class="m">5</span><span class="nf">,</span><span class="m">6</span><span class="nf">,</span><span class="m">9</span><span class="nf">,</span><span class="m">11</span><span class="nf">,</span><span class="m">12</span>]<span class="p">.</span><span class="nv">choose</span><span class="p">.</span><span class="nv">midiratio</span><span class="nf">&lt;</span><span class="nv">em</span><span class="nf">&gt;</span><span class="m">400</span>)<span class="nf">&lt;/</span><span class="nv">em</span><span class="nf">&gt;</span><span class="m">1</span><span class="nf">/</span><span class="m">5</span> }<span class="p">;</span>
</span><span class='line'><span class="nf">~</span><span class="nv">tono1</span><span class="nf">=</span>{<span class="nc">SinOsc</span><span class="p">.</span><span class="nv">ar</span>([<span class="m">0</span><span class="nf">,</span><span class="m">2</span><span class="nf">,</span><span class="m">4</span><span class="nf">,</span><span class="m">5</span><span class="nf">,</span><span class="m">6</span><span class="nf">,</span><span class="m">9</span><span class="nf">,</span><span class="m">11</span><span class="nf">,</span><span class="m">12</span>]<span class="p">.</span><span class="nv">choose</span><span class="p">.</span><span class="nv">midiratio</span><span class="nf">&lt;</span><span class="nv">em</span><span class="nf">&gt;</span><span class="m">400</span>)<span class="nf">&lt;/</span><span class="nv">em</span><span class="nf">&gt;</span><span class="m">1</span><span class="nf">/</span><span class="m">5</span> }<span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Y finalmente dos melodias reproducidas en sequencia aleatorio.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>melodia  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='smalltalk'><span class='line'><span class="err">~</span><span class="nv">demand</span><span class="nf">=</span>{<span class="nc">Demand</span><span class="p">.</span><span class="nv">kr</span>(<span class="nc">Impulse</span><span class="p">.</span><span class="nv">kr</span>(<span class="m">1</span>)<span class="nf">,</span><span class="m">0</span><span class="nf">,</span><span class="nc">Dseq</span>([<span class="m">0</span><span class="nf">,</span><span class="m">2</span><span class="nf">,</span><span class="m">3</span><span class="nf">,</span><span class="m">4</span><span class="nf">,</span><span class="m">5</span><span class="nf">,</span><span class="m">6</span><span class="nf">,</span><span class="m">7</span><span class="nf">,</span><span class="m">8</span><span class="nf">,</span><span class="m">9</span><span class="nf">,</span><span class="m">10</span><span class="nf">,</span><span class="m">11</span><span class="nf">,</span><span class="m">12</span>]<span class="p">.</span><span class="nv">scramble</span><span class="nf">,</span><span class="nv">inf</span>))}<span class="p">;</span>
</span><span class='line'><span class="nf">~</span><span class="nv">dmel0</span><span class="nf">=</span>{<span class="nc">Demand</span><span class="p">.</span><span class="nv">kr</span>(<span class="nc">Impulse</span><span class="p">.</span><span class="nv">kr</span>(<span class="m">1</span>)<span class="nf">,</span><span class="m">0</span><span class="nf">,</span><span class="nc">Dseq</span>([<span class="m">0</span><span class="nf">,</span><span class="m">2</span><span class="nf">,</span><span class="m">3</span><span class="nf">,</span><span class="m">4</span><span class="nf">,</span><span class="m">5</span><span class="nf">,</span><span class="m">6</span><span class="nf">,</span><span class="m">7</span><span class="nf">,</span><span class="m">8</span><span class="nf">,</span><span class="m">9</span><span class="nf">,</span><span class="m">10</span><span class="nf">,</span><span class="m">11</span><span class="nf">,</span><span class="m">12</span>]<span class="p">.</span><span class="nv">reverse</span><span class="p">.</span><span class="nv">scramble</span><span class="nf">,</span><span class="nv">inf</span>))}<span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>
]]></content>
  </entry>
  
</feed>
